"use strict";(globalThis.webpackChunkmusicdex=globalThis.webpackChunkmusicdex||[]).push([[716],{31716:(e,i,r)=>{r.r(i),r.d(i,{default:()=>v});var a=r(28735),n=r(82504),l=r(10855),s=r(28227),d=r(97005),o=r(69113),c=r(72791),t=r(5198),g=r(37734),x=r(56355),u=r(23853),h=r(71358),m=r(11081),p=r(1168),b=r(80184);const v=e=>{let{songs:i,songsEdited:r}=e;const{t:v}=(0,g.$)(),j=(0,m.Z)(),[w,C]=(0,c.useState)((()=>i.map(((e,i)=>({...e,idx:i}))))),S=(0,c.useCallback)(((e,i)=>{const a=[...w.slice(0,e),...w.slice(e+1)];void 0!==i&&a.splice(i,0,w[e]),C(a),r(a.map((e=>e.id)))}),[w,r]),H=(0,c.useMemo)((()=>[{Header:"#",accessor:"idx",maxWidth:40,Cell:e=>(0,b.jsx)(b.Fragment,{children:String(e.row.index+1)})},{Header:"Title",accessor:"name",Cell:e=>{var i,r,n;return(0,b.jsxs)(a.gC,{alignItems:"start",spacing:1,children:[(0,b.jsx)("span",{children:null===(i=e.row.original)||void 0===i?void 0:i.name}),(0,b.jsx)(a.xv,{color:"whiteAlpha.600",fontWeight:300,fontSize:"sm",children:j(null===(r=e.row.original.channel)||void 0===r?void 0:r.english_name,null===(n=e.row.original.channel)||void 0===n?void 0:n.name)})]})}},{id:"channel",Header:"ChannelName",accessor:e=>{var i,r;return j(null===(i=e.channel)||void 0===i?void 0:i.english_name,null===(r=e.channel)||void 0===r?void 0:r.name)}},{Header:"Original Artist",accessor:"original_artist"},{id:"dur",Header:"Duration",accessor:e=>e.end-e.start,isNumeric:!0},{id:"date",Header:"Sang On",accessor:"available_at",Cell:e=>(0,b.jsx)(p.c,{value:new Date(e.row.original.available_at)})},{id:"...",Header:"",disableSortBy:!0,accessor:"idx",Cell:e=>(0,b.jsx)(n.hU,{onClick:()=>{S(e.row.index,void 0)},variant:"outline","aria-label":"delete",colorScheme:"red",icon:(0,b.jsx)(u.We9,{})})}]),[j,S]),{getTableProps:f,getTableBodyProps:T,headerGroups:P,rows:k,prepareRow:_,toggleHideColumn:y}=(0,h.useTable)({columns:H,data:w,initialState:{hiddenColumns:["channel"]},disableSortBy:!0},h.useSortBy),D=(0,l.Sx)({base:0,xs:0,sm:1,md:2,lg:2,xl:3},"xl")||0;(0,c.useEffect)((()=>{y("original_artist",D<2),y("dur",D<2)}),[D,y]);const N={backgroundColor:(0,s.ff)("bgAlpha.200","bgAlpha.800")};return(0,b.jsx)(t.Z5,{onDragEnd:e=>{e.destination&&e.destination.index!==e.source.index&&e.destination.index!==e.source.index&&S(e.source.index,e.destination.index)},children:(0,b.jsxs)(d.iA,{...f(),size:D>2?"md":"sm",children:[(0,b.jsx)(d.hr,{children:P.map((e=>(0,b.jsx)(d.Tr,{...e.getHeaderGroupProps(),children:e.headers.map((e=>(0,b.jsxs)(d.Th,{...e.getHeaderProps(e.getSortByToggleProps()),isNumeric:e.isNumeric,px:D,children:[e.isSorted&&(e.isSortedDesc?(0,b.jsx)(o.JO,{as:x.RiI,display:"inline",mr:"2"}):(0,b.jsx)(o.JO,{as:x.s$2,display:"inline",mr:"2"})),e.render("Header")]})))})))}),(0,b.jsx)(t.bK,{droppableId:"table",children:e=>(0,b.jsxs)(d.p3,{...T(),...e.droppableProps,ref:i=>{e.innerRef(i)},children:[k.map(((e,i)=>(_(e),(0,b.jsx)(t._l,{draggableId:"d"+e.original.idx,index:i,children:(i,r)=>(0,b.jsx)(d.Tr,{...e.getRowProps(),_hover:N,ref:i.innerRef,...i.draggableProps,...i.dragHandleProps,children:e.cells.map((e=>!(r.isDragging&&"name"!==e.column.id&&"idx"!==e.column.id)&&(0,b.jsx)(d.Td,{...e.getCellProps(),isNumeric:e.column.isNumeric,width:"idx"===e.column.id?"40px":"auto",...r.isDragging&&{width:"idx"===e.column.id?"40px":"100vw"},px:D,children:e.render("Cell")})))})},"dk"+e.original.idx)))),e.placeholder]})})]})})}}}]);
//# sourceMappingURL=716.3d316d44.chunk.js.map