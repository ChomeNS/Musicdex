"use strict";(globalThis.webpackChunkmusicdex=globalThis.webpackChunkmusicdex||[]).push([[676],{48073:(e,n,l)=>{l.d(n,{L:()=>i,N:()=>a});var t=l(29548);const i=t.Z.div`
  width: 100%;
  position: absolute;
  z-index: 0;
  pointer-events: none;
  left: 0px;
  top: 0px;
  height: ${e=>{let{height:n}=e;return n}};
  mask-image: radial-gradient(
    ellipse farthest-side at 33% 12%,
    rgba(0, 0, 0, 1) 0%,
    rgba(0, 0, 0, 0.63) 48%,
    rgba(0, 0, 0, 0.58) 74%,
    rgba(0, 0, 0, 0) 100%
  );
  mask-size: 150% 132%;
  mask-position: left bottom;
  overflow: hidden;
`,a=t.Z.div`
  width: 105%;
  width: calc(100% + 16px);
  position: absolute;
  pointer-events: none;
  z-index: 0;
  left: -8px;
  top: -8px;
  height: ${e=>{let{height:n}=e;return n}};
  background: url(${e=>{let{banner_url:n}=e;return n}});
  background-position: center;
  background-size: cover;
  ${e=>{let{blur:n}=e;return n&&"filter: blur(8px);"}}
`},66676:(e,n,l)=>{l.r(n),l.d(n,{default:()=>ie});var t=l(72791),i=l(10855),a=l(28735),o=l(82504),r=l(69113),s=l(74569),d=l.n(s),c=l(23853),u=l(91933),h=l(43504),v=l(16871),x=l(58846),m=l(33626),p=l(48073),g=l(65811),b=l(80184);const f=e=>{let{front:n="var(--chakra-colors-n2-200)",back:l="#333",...t}=e;return(0,b.jsx)("svg",{width:"63",height:"63",viewBox:"0 -3 63 60",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,b.jsxs)("g",{children:[(0,b.jsx)("path",{d:"M13.6283 46.7477V10.1876L18.0283 12.8527L18.0283 44.0826L13.6283 46.7477Z",fill:l}),(0,b.jsx)("path",{d:"M17.2911 55.3319C19.7133 56.8903 22.9507 57.1614 25.7729 55.4519L58.9639 35.348C64.1044 32.2344 64.1044 24.7763 58.9639 21.6627L25.7729 1.55881C22.9742 -0.136384 19.7672 0.116064 17.3518 1.64015L23.0548 5.09447C23.2029 5.15924 23.3493 5.23502 23.4934 5.32228L56.6843 25.4262C58.9976 26.8273 58.9976 30.1835 56.6843 31.5846L23.4934 51.6885C23.2417 51.8409 22.9827 51.9583 22.7207 52.0432L17.2911 55.3319Z",fill:l}),(0,b.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.3588 25.3885L10.1678 5.28458C7.76861 3.83137 4.70273 5.55879 4.70273 8.36378V48.5716C4.70273 51.3766 7.76862 53.104 10.1678 51.6508L43.3588 31.5469C45.672 30.1458 45.672 26.7896 43.3588 25.3885ZM12.4474 1.52111C7.1158 -1.70823 0.302734 2.13046 0.302734 8.36378V48.5716C0.302734 54.8049 7.11581 58.6436 12.4474 55.4142L45.6384 35.3103C50.7788 32.1967 50.7788 24.7386 45.6383 21.625L12.4474 1.52111Z",fill:n})]})})};var j=l(7267),C=l(89825),w=l(6177),k=l(96084),y=l(4926),S=l(42708),E=l(47999),z=l(11081),P=l(37849),T=l(87318),L=l(98056),M=l(73436),_=l(89776),N=l(75971),$=l(29611),F=l(65223),I=l(4083);function R(){return R=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])}return e},R.apply(this,arguments)}function U(e,n){if(null==e)return{};var l,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)l=a[t],n.indexOf(l)>=0||(i[l]=e[l]);return i}var q=["onChange","onCancel","onSubmit","value","isDisabled","defaultValue","startWithEditView","isPreviewFocusable","submitOnBlur","selectAllOnFocus","placeholder","onEdit"];var O=["htmlProps"],D=(0,_.eC)("Editable"),A=D[0],B=D[1],V=(0,$.kr)({name:"EditableContext",errorMessage:"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`"}),Z=V[0],K=V[1],X=(0,_.Gp)((function(e,n){var l=(0,_.jC)("Editable",e),i=function(e){void 0===e&&(e={});var n=e,l=n.onChange,i=n.onCancel,a=n.onSubmit,o=n.value,r=n.isDisabled,s=n.defaultValue,d=n.startWithEditView,c=n.isPreviewFocusable,u=void 0===c||c,h=n.submitOnBlur,v=void 0===h||h,x=n.selectAllOnFocus,m=void 0===x||x,p=n.placeholder,g=n.onEdit,b=U(n,q),f=Boolean(d&&!r),j=(0,t.useState)(f),C=j[0],w=j[1],k=(0,F.Tx)({defaultValue:s||"",value:o,onChange:l}),y=k[0],S=k[1],E=(0,t.useState)(y),z=E[0],P=E[1],T=(0,t.useRef)(null),L=(0,t.useRef)(null),M=(0,t.useRef)(null),_=(0,t.useRef)(null),O=(0,t.useRef)(null);(0,F.s9)({ref:T,enabled:C,elements:[_,O]});var D=!C&&!r;(0,I.a)((function(){C&&(0,N.T_)(T.current,{selectTextIfInput:m})}),[]),(0,F.rf)((function(){C?((0,N.T_)(T.current,{selectTextIfInput:m}),null==g||g()):(0,N.T_)(M.current)}),[C,g,m]);var A=(0,t.useCallback)((function(){D&&w(!0)}),[D]),B=(0,t.useCallback)((function(){P(y)}),[y]),V=(0,t.useCallback)((function(){w(!1),S(z),null==i||i(z)}),[i,S,z]),Z=(0,t.useCallback)((function(){w(!1),P(y),null==a||a(y)}),[y,a]),K=(0,t.useCallback)((function(e){S(e.currentTarget.value)}),[S]),X=(0,t.useCallback)((function(e){var n=(0,N.uh)(e),l={Escape:V,Enter:function(e){e.shiftKey||e.metaKey||Z()}},t=l[n];t&&(e.preventDefault(),t(e))}),[V,Z]),Q=(0,t.useCallback)((function(e){var n=(0,N.uh)(e),l={Escape:V}[n];l&&(e.preventDefault(),l(e))}),[V]),W=(0,N.xb)(y),G=(0,t.useCallback)((function(e){var n=(0,N.wN)(e),l=(0,N.r3)(_.current,n),t=(0,N.r3)(O.current,n);!l&&!t&&(v?Z():V())}),[v,Z,V]),Y=(0,t.useCallback)((function(e,n){void 0===e&&(e={}),void 0===n&&(n=null);var l=D&&u?0:void 0;return R({},e,{ref:(0,$.lq)(n,L),children:W?p:y,hidden:C,"aria-disabled":(0,N.Qm)(r),tabIndex:l,onFocus:(0,N.v0)(e.onFocus,A,B)})}),[r,C,D,u,W,A,B,p,y]),H=(0,t.useCallback)((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),R({},e,{hidden:!C,placeholder:p,ref:(0,$.lq)(n,T),disabled:r,"aria-disabled":(0,N.Qm)(r),value:y,onBlur:(0,N.v0)(e.onBlur,G),onChange:(0,N.v0)(e.onChange,K),onKeyDown:(0,N.v0)(e.onKeyDown,X),onFocus:(0,N.v0)(e.onFocus,B)})}),[r,C,G,K,X,B,p,y]),J=(0,t.useCallback)((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),R({},e,{hidden:!C,placeholder:p,ref:(0,$.lq)(n,T),disabled:r,"aria-disabled":(0,N.Qm)(r),value:y,onBlur:(0,N.v0)(e.onBlur,G),onChange:(0,N.v0)(e.onChange,K),onKeyDown:(0,N.v0)(e.onKeyDown,Q),onFocus:(0,N.v0)(e.onFocus,B)})}),[r,C,G,K,Q,B,p,y]),ee=(0,t.useCallback)((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),R({"aria-label":"Edit"},e,{type:"button",onClick:(0,N.v0)(e.onClick,A),ref:(0,$.lq)(n,M),disabled:r})}),[A,r]),ne=(0,t.useCallback)((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),R({},e,{"aria-label":"Submit",ref:(0,$.lq)(O,n),type:"button",onClick:(0,N.v0)(e.onClick,Z),disabled:r})}),[Z,r]),le=(0,t.useCallback)((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),R({"aria-label":"Cancel",id:"cancel"},e,{ref:(0,$.lq)(_,n),type:"button",onClick:(0,N.v0)(e.onClick,V),disabled:r})}),[V,r]);return{isEditing:C,isDisabled:r,isValueEmpty:W,value:y,onEdit:A,onCancel:V,onSubmit:Z,getPreviewProps:Y,getInputProps:H,getTextareaProps:J,getEditButtonProps:ee,getSubmitButtonProps:ne,getCancelButtonProps:le,htmlProps:b}}((0,_.Lr)(e)),a=i.htmlProps,o=U(i,O),r=o.isEditing,s=o.onSubmit,d=o.onCancel,c=o.onEdit,u=(0,N.cx)("chakra-editable",e.className),h=(0,N.Pu)(e.children,{isEditing:r,onSubmit:s,onCancel:d,onEdit:c});return t.createElement(Z,{value:o},t.createElement(A,{value:l},t.createElement(_.m$.div,R({ref:n},a,{className:u}),h)))}));N.Ts&&(X.displayName="Editable");var Q={fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent"},W=(0,_.Gp)((function(e,n){var l=K().getPreviewProps,i=B(),a=l(e,n),o=(0,N.cx)("chakra-editable__preview",e.className);return t.createElement(_.m$.span,R({},a,{__css:R({cursor:"text",display:"inline-block"},Q,i.preview),className:o}))}));N.Ts&&(W.displayName="EditablePreview");var G=(0,_.Gp)((function(e,n){var l=K().getInputProps,i=B(),a=l(e,n),o=(0,N.cx)("chakra-editable__input",e.className);return t.createElement(_.m$.input,R({},a,{__css:R({outline:0},Q,i.input),className:o}))}));N.Ts&&(G.displayName="EditableInput");var Y=(0,_.Gp)((function(e,n){var l=K().getTextareaProps,i=B(),a=l(e,n),o=(0,N.cx)("chakra-editable__textarea",e.className);return t.createElement(_.m$.textarea,R({},a,{__css:R({outline:0},Q,i.textarea),className:o}))}));N.Ts&&(Y.displayName="EditableTextarea");var H=l(37734);const J=10;function ee(){const{t:e}=(0,H.$)();let n=(0,v.UO)().id;const{data:l,...i}=(0,u.useQuery)(["channel",n],(async e=>(await d().get("/api/v2/channels/"+e.queryKey[1])).data),{...P.T,cacheTime:6e5}),[r,s]=(0,t.useState)(0),{data:h,...x}=(0,L.Tt)({channel_id:n,paginated:!0,limit:J,offset:r}),{items:m,total:p}=(0,t.useMemo)((()=>h||{items:void 0,total:0}),[h]),g=(0,M.U)(),f=(0,v.s0)();return i.isSuccess?x.isLoading?(0,b.jsx)(j.o,{queryStatus:x}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(a.Ug,{alignItems:"center",py:1,children:[(0,b.jsx)(o.zx,{variant:"solid",width:"22px",height:"22px",size:"30px",borderRadius:"full",position:"relative",as:"a",href:"/channel/"+l.id,onClick:e=>{e.preventDefault(),f("/channel/"+l.id)},children:(0,b.jsx)(c.Ao2,{})}),(0,b.jsxs)(a.X6,{size:"md",children:[e("All Songs")," ",e("({{ from }} - {{ to }} of {{ total }})",{from:r+1,to:r+m.length,total:p})]}),(0,b.jsx)(o.zx,{variant:"ghost",size:"sm",py:0,colorScheme:"n2",onClick:()=>{g({songs:m,immediatelyPlay:!1})},children:e("Queue ({{amount}})",{amount:m.length})})]}),(0,b.jsx)(t.Suspense,{fallback:(0,b.jsx)("div",{children:e("Loading...")}),children:(0,b.jsx)(C.z,{songs:m,rowProps:{indexShift:r}})}),(0,b.jsxs)(o.hE,{colorScheme:"brand",mt:"3",spacing:"5",children:[(0,b.jsx)(o.zx,{onClick:()=>s((e=>Math.max(Math.min(Math.floor(p/J)*J,e-J),0))),disabled:0===r,children:(0,b.jsx)(c.Ao2,{})}),(0,b.jsxs)(X,{defaultValue:String(Math.floor(r/J)+1),fontSize:"xl",onSubmit:e=>{const n=Number.parseInt(e);s(Math.max(Math.min(Math.floor(p/J)*J,(n-1)*J),0))},children:[(0,b.jsx)(W,{}),(0,b.jsx)(G,{width:"30px",type:"number",min:"1",max:Math.ceil(p/J)})]},r),(0,b.jsx)(o.zx,{onClick:()=>s((e=>Math.max(Math.min(Math.floor(p/J)*J,e+J),0))),disabled:r+J>p,children:(0,b.jsx)(c.Rgz,{})})]})]}):(0,b.jsx)(j.o,{queryStatus:i})}var ne=l(6907),le=l(60119),te=l(77810);function ie(){var e,n,l,t,o;const{t:r}=(0,H.$)();let s=(0,v.UO)().id;const{data:c,...x}=(0,u.useQuery)(["channel",s],(async e=>(await d().get("/api/v2/channels/"+e.queryKey[1])).data),{...P.T,cacheTime:6e5}),{data:g,...f}=(0,T.aV)(s),{data:C,...y}=(0,L.eB)({channel_id:s}),E=(0,M.U)(),_=(0,z.Z)(),N=(0,i.Sx)({base:!0,md:!1});if(x.isLoading||f.isLoading||y.isLoading)return(0,b.jsx)(j.o,{queryStatus:x});const $=null!==(e=_(null===c||void 0===c?void 0:c.english_name,null===c||void 0===c?void 0:c.name))&&void 0!==e?e:"";return(0,b.jsxs)(k._,{children:[(0,b.jsx)(ne.ql,{children:(0,b.jsxs)("title",{children:[$," - Musicdex"]})}),(0,b.jsx)(p.L,{height:"60vh",children:(0,b.jsx)(p.N,{banner_url:`https://i.ytimg.com/vi/${null===g||void 0===g||null===(n=g.recentSingingStreams)||void 0===n?void 0:n[0].video.id}/sddefault.jpg`,height:"33vh",blur:!0})}),(0,b.jsxs)(a.Ug,{mx:N?2:6,my:6,flexWrap:N?"wrap":"unset",rowGap:4,children:[(0,b.jsxs)(a.Ug,{children:[(0,b.jsx)(m.v,{channelId:null===c||void 0===c?void 0:c.id,resizePhoto:N?100:150,size:N?"xl":"2xl",borderRadius:4,mr:N?2:6,shadow:"xl"}),(0,b.jsx)(h.rU,{to:`/?org=${encodeURIComponent(null!==(l=null===c||void 0===c?void 0:c.org)&&void 0!==l?l:"")}`,children:(0,b.jsx)(S.D,{title:$,description:(null===c||void 0===c?void 0:c.org)+(null!==c&&void 0!==c&&null!==(t=c.suborg)&&void 0!==t&&t.slice(2)?" \u2014 "+(null===c||void 0===c||null===(o=c.suborg)||void 0===o?void 0:o.slice(2)):""),count:0,max:0,textShadow:"1px 1px 5px var(--chakra-colors-bgAlpha-500);"})})]}),!N&&(0,b.jsx)(a.LZ,{}),(0,b.jsx)(ae,{isMobile:N,channel:c})]}),(0,b.jsx)(w.C,{children:(0,b.jsxs)(v.Z5,{children:[(0,b.jsx)(v.AW,{path:"/",element:(0,b.jsx)(re,{discovery:g,trending:C,queueSongs:E,name:$,channel:c})}),(0,b.jsx)(v.AW,{path:"/songs",element:(0,b.jsx)(ee,{})})]})})]})}function ae(e){var n;let{isMobile:l,channel:t}=e;const{isLoggedIn:i}=(0,te.m8)(),{t:r}=(0,H.$)(),s=(0,E.b)(),{data:d}=(0,le.r)(),{mutate:u}=(0,le.L)(),h=null===d||void 0===d?void 0:d.map((e=>e.id)).includes(null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:""),v=h?"Remove from Favorites":"Add to Favorites",x={color:"white",bgColor:"#fff2",border:"2px solid #fff5",_hover:{bgColor:"var(--chakra-colors-n2-800)",boxShadow:"lg",transform:"translateY(-3px) scale(1.1);"}};return(0,b.jsxs)(a.rj,{gap:l?4:2,templateRows:"repeat(2, 1fr)",templateColumns:l||h?"repeat(4, 1fr)":"repeat(2, 1fr)",...l?{pt:2,mb:-2,width:"100%",pr:"0.5rem"}:{},children:[i&&(0,b.jsx)(a.P4,{colStart:1,colEnd:5,children:(0,b.jsx)(o.zx,{...x,bgColor:h?"n2.700":x.bgColor,w:"full",leftIcon:(0,b.jsx)(c.$aX,{}),onClick:()=>{t&&u({channelId:t.id,action:h?"remove":"add"})},"aria-label":v,title:r(v),children:r(v)})}),(0,b.jsx)(o.hU,{...x,icon:(0,b.jsx)(c.PMT,{}),onClick:()=>{s(window.location.toString())},"aria-label":"Copy URL",title:r("Copy link")}),(0,b.jsx)(o.hU,{...x,icon:(0,b.jsx)(f,{width:"18px",back:"#eee"}),"aria-label":"Holodex",title:r("Open in Holodex"),as:"a",href:"https://holodex.net/channel/"+(null===t||void 0===t?void 0:t.id),target:"_blank"}),(0,b.jsx)(o.hU,{...x,icon:(0,b.jsx)(c.Dp0,{}),color:"red.100","aria-label":"YouTube",title:"YouTube",as:"a",href:"https://youtube.com/channel/"+(null===t||void 0===t?void 0:t.id),target:"_blank"}),(null===t||void 0===t?void 0:t.twitter)&&(0,b.jsx)(o.hU,{...x,color:"twitter.100",icon:(0,b.jsx)(c.Ccr,{}),"aria-label":"Twitter",title:"Twitter",as:"a",href:"https://twitter.com/"+(null===t||void 0===t?void 0:t.twitter),target:"_blank"})]})}function oe(e){let{buttons:n}=e;const{t:l}=(0,H.$)();return(0,b.jsx)(b.Fragment,{children:n.map((e=>{let{label:n,icon:t,link:i}=e;return(0,b.jsx)(o.zx,{variant:"ghost",size:"md",colorScheme:"n2",leftIcon:(0,b.jsx)(r.JO,{as:t}),as:h.rU,to:i,float:"right",textTransform:"uppercase",children:l(n)})}))})}function re(e){var n,l,r,s,d;let{discovery:u,trending:h,queueSongs:v,name:m,channel:p}=e;const{t:f}=(0,H.$)(),j=null!==(n=(0,i.Sx)({base:2,md:4}))&&void 0!==n?n:4,w=(0,t.useMemo)((()=>[{label:"See All Songs",link:"/channel/"+(null===p||void 0===p?void 0:p.id)+"/songs",icon:c.SnF},{label:"Search Songs",link:`/searchV2?mode=fuzzy&ch=["${null===p||void 0===p?void 0:p.name}"]`,icon:c.jRj}]),[p]);return(0,b.jsxs)(a.gC,{w:"100%",children:[h&&(0,b.jsxs)(a.gC,{w:"100%",children:[(0,b.jsxs)(a.Ug,{w:"100%",align:"center",justify:"space-between",children:[(0,b.jsx)(a.X6,{size:"md",mt:4,mb:2,children:f("Popular")}),(0,b.jsx)(o.zx,{variant:"ghost",size:"sm",py:0,colorScheme:"n2",float:"right",onClick:()=>{v({songs:h,immediatelyPlay:!1})},children:f("Queue ({{amount}})",{amount:h.length})})]}),(0,b.jsx)(a.xu,{w:"100%",flex:"1 1 140px",minWidth:"300px",children:(0,b.jsx)(C.z,{songs:h.slice(0,10),rowProps:{flipNames:!0,showArtwork:!0},limit:5,appendRight:(0,b.jsx)(oe,{buttons:w})})})]}),(null===u||void 0===u||null===(l=u.recentSingingStreams)||void 0===l?void 0:l.filter((e=>{var n,l;return null===(n=e.playlist)||void 0===n||null===(l=n.content)||void 0===l?void 0:l.length})).length)&&(0,b.jsxs)(a.gC,{w:"100%",align:"flex-start",children:[(0,b.jsx)(a.X6,{size:"md",mt:4,mb:2,children:f("Latest Streams")}),(0,b.jsx)(g.p,{w:"100%",height:230,width:160,scrollMultiplier:j,children:null===u||void 0===u?void 0:u.recentSingingStreams.filter((e=>{var n,l;return null===(n=e.playlist)||void 0===n||null===(l=n.content)||void 0===l?void 0:l.length})).map((e=>{var n;return(0,b.jsx)(y.Z,{playlist:e.playlist,mx:["2px",null,1,2]},"kpc"+(null===(n=e.playlist)||void 0===n?void 0:n.id))}))})]}),(null===u||void 0===u||null===(r=u.recommended)||void 0===r||null===(s=r.playlists)||void 0===s?void 0:s.length)&&(0,b.jsxs)(a.gC,{w:"100%",align:"flex-start",children:[(0,b.jsx)(a.X6,{size:"md",mt:4,mb:2,children:f("Featuring {{name}}",{name:m})}),(0,b.jsx)(g.p,{w:"100%",height:230,width:160,scrollMultiplier:j,children:u.recommended.playlists.map((e=>(0,b.jsx)(y.Z,{playlist:e,marginX:["2px",null,1,2]},e.id)))})]}),(0,b.jsxs)(a.gC,{w:"100%",align:"flex-start",children:[(0,b.jsx)(a.X6,{size:"md",mt:4,mb:2,children:f("Discover more from {{org}}",{org:null===p||void 0===p?void 0:p.org})}),u&&(0,b.jsx)(g.p,{w:"100%",height:180,width:160,scrollMultiplier:j,children:null===(d=u.channels)||void 0===d?void 0:d.slice(0,10).map((e=>(0,b.jsx)(x.Z,{channel:e,marginX:["2px",null,1,2]},e.id)))})]})]})}}}]);
//# sourceMappingURL=676.a26c3601.chunk.js.map